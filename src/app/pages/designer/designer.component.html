<section class="designer-page">
  <div class="logout-button">
    <button pButton type="button" label="Выйти" (click)="logout()"></button>
  </div>

  <h2>Добро пожаловать в кабинет дизайнера{{ user?.name ? ', ' + user.name + '!' : '!' }}</h2>
  <p class="welcome-text">
    Заполните форму и прикрепите материалы по проекту. Мы изучим заявку и свяжемся с вами,
    чтобы обсудить детали и предложить подходящее решение.
  </p>

  <div class="designer-layout">
    <div class="designer-content">
      <form
        class="designer-form"
        [formGroup]="designerForm"
        (ngSubmit)="submitForm()"
        enctype="multipart/form-data"
      >
        <div class="form-group">
          <label>Название объекта</label>
          <input type="text" pInputText formControlName="objectName" />
        </div>

        <div class="form-group">
          <label>Телефон</label>
          <input type="text" pInputText formControlName="phone" />
        </div>

        <div class="form-group">
          <label>Комментарий</label>
          <textarea rows="4" pInputTextarea formControlName="comment"></textarea>
        </div>

        <div
          class="file-drop"
          (dragover)="onDragOver($event)"
          (drop)="onDrop($event)"
        >
          <p>Перетащите сюда PDF или изображения с эскизами и комментариями.</p>
          <input type="file" (change)="onFileSelected($event)" hidden #fileInput />
          <button type="button" pButton label="Выбрать файл" (click)="fileInput.click()"></button>
          <p *ngIf="fileName">{{ fileName }}</p>
        </div>

        <button
          pButton
          type="submit"
          label="Отправить заявку"
          [disabled]="!designerForm.valid || !selectedFile"
        ></button>
      </form>

      <div class="whatsapp-link">
        <a href="https://wa.me/79110293030" target="_blank" rel="noopener">
          Есть вопросы? Напишите нам в WhatsApp
        </a>
      </div>
    </div>

    <aside class="designer-aside">
      <h3>Подсказка</h3>
      <p>
        Поддерживаются файлы PDF, PNG и JPG размером до 10 МБ. Если нужны дополнительные форматы,
        укажите это в комментарии.
      </p>
    </aside>
  </div>
</section>

